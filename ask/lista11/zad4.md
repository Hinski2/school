# zad 4

---

Pamięć w pełni asocjacyjna posiadająca 8 bloków to rodzaj pamięci cache, w której każdy blok danych z pamięci głównej może być przechowywany w dowolnym z 8 bloków pamięci cache.

(czyli tutaj nie ma setów, jest tylko 8 lini i mogę wkładać pamięć do której lini chce)

| idx | tag | valid | lru |
|--------|----------|-------| --- |
| 0      | 00       | 0     | 0
| 1      | 83       | 0     | 0
| 2      | 00       | 0     | 0
| 3      | 83       | 0     | 0
| 4      | 00       | 0     | 0
| 5      | 40       | 0     | 0
| 6      | FF       | 0     | 0
| 7      | 00       | 0     | 0

1. 0x0 -> 00

| idx | tag | valid | lru |
|--------|----------|-------| --- |
| 0      | 00       | 1     | 7
| 1      | 83       | 0     | 0
| 2      | 00       | 0     | 0
| 3      | 83       | 0     | 0
| 4      | 00       | 0     | 0
| 5      | 40       | 0     | 0
| 6      | FF       | 0     | 0
| 7      | 00       | 0     | 0

compulsory miss

2. 0x4 -> 00

| idx | tag | valid | lru |
|--------|----------|-------| --- |
| 0      | 00       | 1     | 7
| 1      | 83       | 0     | 0
| 2      | 00       | 0     | 0
| 3      | 83       | 0     | 0
| 4      | 00       | 0     | 0
| 5      | 40       | 0     | 0
| 6      | FF       | 0     | 0
| 7      | 00       | 0     | 0

hit

3. 0x10 -> 01

| idx | tag | valid | lru |
|--------|----------|-------| --- |
| 0      | 00       | 1     | 6
| 1      | 01       | 1     | 7
| 2      | 00       | 0     | 0
| 3      | 83       | 0     | 0
| 4      | 00       | 0     | 0
| 5      | 40       | 0     | 0
| 6      | FF       | 0     | 0
| 7      | 00       | 0     | 0

compulsory miss

4. 0x84 -> 08

| idx | tag | valid | lru |
|--------|----------|-------| --- |
| 0      | 00       | 1     | 5
| 1      | 01       | 1     | 6
| 2      | 08       | 1     | 7
| 3      | 83       | 0     | 0
| 4      | 00       | 0     | 0
| 5      | 40       | 0     | 0
| 6      | FF       | 0     | 0
| 7      | 00       | 0     | 0

compulsory miss

5. 0x3c -> 03

| idx | tag | valid | lru |
|--------|----------|-------| --- |
| 0      | 00       | 1     | 4
| 1      | 01       | 1     | 5
| 2      | 08       | 1     | 6
| 3      | 03       | 1     | 7
| 4      | 00       | 0     | 0
| 5      | 40       | 0     | 0
| 6      | FF       | 0     | 0
| 7      | 00       | 0     | 0

compulsory miss

6. 0xe8 -> 0e

| idx | tag | valid | lru |
|--------|----------|-------| --- |
| 0      | 00       | 1     | 3
| 1      | 01       | 1     | 4
| 2      | 08       | 1     | 5
| 3      | 03       | 1     | 6
| 4      | 0e       | 1     | 7
| 5      | 40       | 0     | 0
| 6      | FF       | 0     | 0
| 7      | 00       | 0     | 0

compulsory miss

7. 0xc8c -> c8

| idx | tag | valid | lru |
|--------|----------|-------| --- |
| 0      | 00       | 1     | 2
| 1      | 01       | 1     | 3
| 2      | 08       | 1     | 4
| 3      | 03       | 1     | 5
| 4      | 0e       | 1     | 6
| 5      | c8       | 1     | 7
| 6      | FF       | 0     | 0
| 7      | 00       | 0     | 0

compulsory miss

8. 0xa0 -> 0a

| idx | tag | valid | lru |
|--------|----------|-------| --- |
| 0      | 00       | 1     | 1
| 1      | 01       | 1     | 2
| 2      | 08       | 1     | 3
| 3      | 03       | 1     | 4
| 4      | 0e       | 1     | 5
| 5      | c8       | 1     | 6
| 6      | 0a       | 1     | 7
| 7      | 00       | 0     | 0

compulsory miss

9. 0x4 -> 00

| idx | tag | valid | lru |
|--------|----------|-------| --- |
| 0      | 00       | 1     | 7
| 1      | 01       | 1     | 1
| 2      | 08       | 1     | 2
| 3      | 03       | 1     | 3
| 4      | 0e       | 1     | 4
| 5      | c8       | 1     | 5
| 6      | 0a       | 1     | 6
| 7      | 00       | 0     | 0

hit

10. 0x400 -> 40

| idx | tag | valid | lru |
|--------|----------|-------| --- |
| 0      | 00       | 1     | 6
| 1      | 01       | 1     | 0
| 2      | 08       | 1     | 1
| 3      | 03       | 1     | 2
| 4      | 0e       | 1     | 3
| 5      | c8       | 1     | 4
| 6      | 0a       | 1     | 5
| 7      | 40       | 1     | 7

compulsory miss

11. 0x84 -> 08

| idx | tag | valid | lru |
|--------|----------|-------| --- |
| 0      | 00       | 1     | 5
| 1      | 01       | 1     | 0
| 2      | 08       | 1     | 7
| 3      | 03       | 1     | 1
| 4      | 0e       | 1     | 2
| 5      | c8       | 1     | 3
| 6      | 0a       | 1     | 4
| 7      | 40       | 1     | 6

hit

12. 0x10 -> 01

| idx | tag | valid | lru |
|--------|----------|-------| --- |
| 0      | 00       | 1     | 4
| 1      | 01       | 1     | 7
| 2      | 08       | 1     | 6
| 3      | 03       | 1     | 0
| 4      | 0e       | 1     | 1
| 5      | c8       | 1     | 2
| 6      | 0a       | 1     | 3
| 7      | 40       | 1     | 5

hit

13. 0xe8 -> 0e

| idx | tag | valid | lru |
|--------|----------|-------| --- |
| 0      | 00       | 1     | 3
| 1      | 01       | 1     | 6
| 2      | 08       | 1     | 5
| 3      | 03       | 1     | 0
| 4      | 0e       | 1     | 7
| 5      | c8       | 1     | 1
| 6      | 0a       | 1     | 2
| 7      | 40       | 1     | 4

hit

14. 0x884 -> 88

| idx | tag | valid | lru |
|--------|----------|-------| --- |
| 0      | 00       | 1     | 2
| 1      | 01       | 1     | 5
| 2      | 08       | 1     | 4
| 3      | 88       | 1     | 7
| 4      | 0e       | 1     | 6
| 5      | c8       | 1     | 0
| 6      | 0a       | 1     | 1
| 7      | 40       | 1     | 3

conflict miss

15. 0xc8c -> c8

| idx | tag | valid | lru |
|--------|----------|-------| --- |
| 0      | 00       | 1     | 1
| 1      | 01       | 1     | 4
| 2      | 08       | 1     | 3
| 3      | 88       | 1     | 6
| 4      | 0e       | 1     | 5
| 5      | c8       | 1     | 7
| 6      | 0a       | 1     | 0
| 7      | 40       | 1     | 2

hit

16. 0x0 -> 00

| idx | tag | valid | lru |
|--------|----------|-------| --- |
| 0      | 00       | 1     | 7
| 1      | 01       | 1     | 3
| 2      | 08       | 1     | 2
| 3      | 88       | 1     | 5
| 4      | 0e       | 1     | 4
| 5      | c8       | 1     | 6
| 6      | 0a       | 1     | 0
| 7      | 40       | 1     | 1

hit

potrzebuje po 3 bity dla bloku
hit: 7
compulsory miss: 8
conflict miss: 1
hit ratio: 7 / 9 ~ 0.77
